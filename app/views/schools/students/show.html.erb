<div class="bg-white shadow overflow-hidden sm:rounded-lg">
  <div class="px-4 py-5 sm:px-6">
    <div class="flex justify-between items-center">
      <div>
        <h3 class="text-lg leading-6 font-medium text-gray-900">Student Information</h3>
        <p class="mt-1 max-w-2xl text-sm text-gray-500">Personal details and enrollment information.</p>
      </div>
      <div class="flex space-x-3">
        <%= link_to 'Edit', edit_schools_school_student_path(@student), class: "inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50" %>
        <%= link_to 'Back to Students', schools_school_students_path(@school), class: "inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50" %>
      </div>
    </div>
  </div>
  <div class="border-t border-gray-200">
    <dl>
      <%# BASIC STUDENT DETAILS %>
      <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-gray-500">Full name</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @student.full_name %></dd>
      </div>

      <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-gray-500">Email</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @student.email %></dd>
      </div>

      <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-gray-500">Date of Birth</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @student.date_of_birth&.strftime("%B %d, %Y") %></dd>
      </div>

      <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-gray-500">Gender</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @student.gender&.titleize %></dd>
      </div>

      <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-gray-500">Class</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
          <%= link_to @student.school_class&.name, schools_school_classes_path(@student.school_class), class: "text-blue-600 hover:text-blue-800" %>
        </dd>
      </div>

      <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-gray-500">Admission Number</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @student.admission_number %></dd>
      </div>

      <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-gray-500">Roll Number</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @student.roll_number %></dd>
      </div>

      <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-gray-500">Parent/Guardian Name</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @student.parent_name %></dd>
      </div>

      <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-gray-500">Parent Phone</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @student.parent_phone %></dd>
      </div>

      <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-gray-500">Parent Email</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @student.parent_email %></dd>
      </div>

      <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-gray-500">Address</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @student.address %></dd>
      </div>
    </dl>
  </div>
</div>

<% if @student.admission_detail.present? %>
  <div class="bg-white px-4 py-5 sm:px-6 border-t border-gray-200">
    <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">Admission Details</h3>
    <dl>
      <% admission = @student.admission_detail %>

      <% [
        ["Aadhaar Number", admission.aadhaar_number],
        ["SSMID Number", admission.ssmid_number],
        ["Scholar No", admission.scholar_no],
        ["Family ID", admission.family_id],
        ["Place of Birth", admission.place_of_birth],
        ["Nationality", admission.nationality],
        ["Mother Tongue", admission.mother_tongue],
        ["Other Languages", admission.other_languages],
        ["Category", admission.category],
        ["Subcategory", admission.subcategory],
        ["Religion", admission.religion],
        ["Father's Name", admission.father_name],
        ["Father's Mobile", admission.father_mobile],
        ["Father's Email", admission.father_email],
        ["Father's Occupation", admission.father_occupation],
        ["Father's Income", number_to_currency(admission.father_income)],
        ["Mother's Name", admission.mother_name],
        ["Mother's Mobile", admission.mother_mobile],
        ["Mother's Email", admission.mother_email],
        ["Mother's Occupation", admission.mother_occupation],
        ["Mother's Income", number_to_currency(admission.mother_income)],
        ["Total Family Income", number_to_currency(admission.total_family_income)]
      ].each_with_index do |(label, value), i| %>
        <div class="<%= i.even? ? 'bg-white' : 'bg-gray-50' %> sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 py-2">
          <dt class="text-sm font-medium text-gray-500"><%= label %></dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= value %></dd>
        </div>
      <% end %>
    </dl>
  </div>
<% end %>
